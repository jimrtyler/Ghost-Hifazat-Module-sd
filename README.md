# 👻 Ghost سيڪيورٽي ماڊيول
**PowerShell تي ٻڌل Windows ۽ Azure سيڪيورٽي سخت ڪرڻ وارو اوزار**

> **Windows endpoints ۽ Azure ماحول لاءِ فعال سيڪيورٽي سخت ڪرڻ.** Ghost PowerShell تي ٻڌل سخت ڪرڻ وارا ڪم فراهم ڪري ٿو جيڪي غير ضروري خدمتن ۽ پروٽوڪولز کي غير فعال ڪري عام حملي جي ویکٽرز کي گھٽ ڪرڻ ۾ مدد ڪري سگھن ٿا.

## ⚠️ اهم ڊسڪليمرز

**ٽيسٽنگ ضروري آهي**: هميشه پيداوار جي ماحول کان اڳ Ghost کي غير پيداواري ماحول ۾ ٽيسٽ ڪريو. خدمتن کي غير فعال ڪرڻ جائز ڪاروباري افعال تي اثر انداز ٿي سگهي ٿو.

**ڪا به ضمانت ناهي**: جيتوڻيڪ Ghost عام حملي جي ویکٹرز کي نشانو بنائيندو آهي، ڪو به سيڪيورٽي اوزار سڀني حملن کي روڪي نٿو سگهي. هي هڪ جامع سيڪيورٽي حڪمت عملي جو هڪ حصو آهي.

**آپريشنل اثر**: ڪجهه ڪم سسٽم جي ڪارڪردگي تي اثر انداز ٿي سگھن ٿا. تعیناتي کان اڳ هر سيٽنگ کي احتياط سان جائزو وٺو.

**پيشه ورانه تشخيص**: پيداوار جي ماحول لاءِ، سيڪيورٽي ماهرن سان صلاح ڪريو ته جيئن سيٽنگز توهان جي تنظيم جي ضرورتن سان ملن.

## 📊 سيڪيورٽي جو منظرنامو

Ransomware نقصان **2025 ۾ $57 بلين** تائين پهچي ويو، تحقيق ظاهر ڪري ٿي ته ڪيترائي ڪامياب حملا بنيادي Windows خدمتن ۽ غلط ترتيب جو فائدو وٺن ٿا. عام حملي جي ویکٹرز ۾ شامل آهن:

- **90% ransomware واقعن ۾** RDP استحصال شامل آهي
- **SMBv1 ڪمزوريون** WannaCry ۽ NotPetya جهڙن حملن کي فعال ڪيو
- **دستاويز ميڪروز** بنيادي مالويئر پهچائڻ جو طريقو رهن ٿا
- **USB تي ٻڌل حملا** ايئر-گيپ ٿيل نيٽ ورڪن کي نشانو بڻائڻ جاري رکن ٿا
- **PowerShell جو غلط استعمال** تازن سالن ۾ خاص طور تي وڌيو آهي

## 🛡️ Ghost سيڪيورٽي ڪم

Ghost **16 Windows سخت ڪرڻ وارا ڪم** ۽ **Azure سيڪيورٽي انضمام** فراهم ڪري ٿو:

### Windows Endpoint سخت ڪرڻ

| ڪم | مقصد | غور |
|----------|---------|----------------|
| `Set-RDP` | ريموٽ ڊيسڪ ٽاپ رسائي کي منظم ڪري ٿو | ريموٽ انتظاميه تي اثر انداز ٿي سگهي ٿو |
| `Set-SMBv1` | ورثي SMB پروٽوڪول کي ڪنٽرول ڪري ٿو | تمام پراڻي سسٽم لاءِ گهربل |
| `Set-AutoRun` | AutoPlay/AutoRun کي ڪنٽرول ڪري ٿو | صارف جي سهوليت تي اثر انداز ٿي سگهي ٿو |
| `Set-USBStorage` | USB اسٽوريج ڊوائيسز کي محدود ڪري ٿو | جائز USB استعمال تي اثر انداز ٿي سگهي ٿو |
| `Set-Macros` | Office ميڪرو عمل کي ڪنٽرول ڪري ٿو | ميڪرو-فعال دستاويزن تي اثر انداز ٿي سگهي ٿو |
| `Set-PSRemoting` | PowerShell ريموٽنگ کي منظم ڪري ٿو | ريموٽ انتظام تي اثر انداز ٿي سگهي ٿو |
| `Set-WinRM` | Windows ريموٽ مئنيجمينٽ کي ڪنٽرول ڪري ٿو | ريموٽ انتظاميه تي اثر انداز ٿي سگهي ٿو |
| `Set-LLMNR` | نالو حل ڪرڻ واري پروٽوڪول کي منظم ڪري ٿو | عام طور تي غير فعال ڪرڻ محفوظ آهي |
| `Set-NetBIOS` | TCP/IP مٿان NetBIOS کي ڪنٽرول ڪري ٿو | ورثي ايپليڪيشنز تي اثر انداز ٿي سگهي ٿو |
| `Set-AdminShares` | انتظامي شيئرز کي منظم ڪري ٿو | ريموٽ فائل رسائي تي اثر انداز ٿي سگهي ٿو |
| `Set-Telemetry` | ڊيٽا گڏ ڪرڻ کي ڪنٽرول ڪري ٿو | تشخيصي صلاحيتن تي اثر انداز ٿي سگهي ٿو |
| `Set-GuestAccount` | مهمان اڪائونٽ کي منظم ڪري ٿو | عام طور تي غير فعال ڪرڻ محفوظ آهي |
| `Set-ICMP` | پنگ جوابن کي ڪنٽرول ڪري ٿو | نيٽ ورڪ تشخيص تي اثر انداز ٿي سگهي ٿو |
| `Set-RemoteAssistance` | ريموٽ اسسٽنس کي منظم ڪري ٿو | هيلپ ڊيسڪ آپريشنز تي اثر انداز ٿي سگهي ٿو |
| `Set-NetworkDiscovery` | نيٽ ورڪ ڳولڻ کي ڪنٽرول ڪري ٿو | نيٽ ورڪ برائوزنگ تي اثر انداز ٿي سگهي ٿو |
| `Set-Firewall` | Windows فائر وال کي منظم ڪري ٿو | نيٽ ورڪ سيڪيورٽي لاءِ اهم |

### Azure ڪلائوڊ سيڪيورٽي

| ڪم | مقصد | گهرجون |
|----------|---------|--------------|
| `Set-AzureSecurityDefaults` | بنيادي Azure AD سيڪيورٽي فعال ڪري ٿو | Microsoft Graph اجازتون |
| `Set-AzureConditionalAccess` | رسائي پاليسيون ترتيب ڏئي ٿو | Azure AD P1/P2 لائسنسنگ |
| `Set-AzurePrivilegedUsers` | مراعات يافته اڪائونٽس جو آڊٽ ڪري ٿو | گلوبل ايڊمن اجازتون |

### انٽرپرائز تعیناتي اختيار

| طريقو | استعمال جو ڪيس | گهرجون |
|--------|----------|--------------|
| **سڌو عمل** | ٽيسٽنگ، ننڍا ماحول | مقامي ايڊمن حق |
| **گروپ پاليسي** | ڊومين ماحول | ڊومين ايڊمن، GP انتظام |
| **Microsoft Intune** | ڪلائوڊ-منظم ٿيل ڊوائيسز | Intune لائسنسنگ، Graph API |

## 🚀 تيز شروعات

### سيڪيورٽي تشخيص
```powershell
# Ghost ماڊيول لوڊ ڪريو
IEX(Invoke-WebRequest 'https://raw.githubusercontent.com/jimrtyler/Ghost/main/Ghost.ps1')

# موجوده سيڪيورٽي پوزيشن چيڪ ڪريو
Get-Ghost
```

### بنيادي سخت ڪرڻ (پهرين ٽيسٽ ڪريو)
```powershell
# ضروري سخت ڪرڻ - پهرين ليبارٽري ماحول ۾ ٹیسٹ ڪريو
Set-Ghost -SMBv1 -AutoRun -Macros

# تبديلين جو جائزو وٺو
Get-Ghost
```

### انٽرپرائز تعیناتي
```powershell
# گروپ پاليسي تعیناتي (ڊومين ماحول)
Set-Ghost -SMBv1 -AutoRun -GroupPolicy

# Intune تعیناتي (ڪلائوڊ-منظم ٿيل ڊوائيسز)
Set-Ghost -SMBv1 -RDP -USBStorage -Intune
```

## 📋 تنصيب جا طريقا

### اختيار 1: سڌو ڊائون لوڊ (ٽيسٽنگ)
```powershell
IEX(Invoke-WebRequest 'https://raw.githubusercontent.com/jimrtyler/Ghost/main/Ghost.ps1')
```

### اختيار 2: ماڊيول تنصيب
```powershell
# PowerShell Gallery مان انسٽال ڪريو (جڏهن دستياب هجي)
Install-Module Ghost -Scope CurrentUser
Import-Module Ghost
```

### اختيار 3: انٽرپرائز تعیناتي
```powershell
# گروپ پاليسي تعیناتي لاءِ نيٽ ورڪ جڳھ تي ڪاپي ڪريو
# ڪلائوڊ تعیناتي لاءِ Intune PowerShell اسڪرپٽس ترتيب ڏيو
```

## 💼 استعمال ڪيس مثالون

### ننڍو ڪاروبار
```powershell
# گھٽ ۾ گھٽ اثر سان بنيادي تحفظ
Set-Ghost -SMBv1 -AutoRun -Macros -ICMP
```

### صحت جي سار سنڀار جو ماحول
```powershell
# HIPAA-مرڪوز سخت ڪرڻ
Set-Ghost -SMBv1 -RDP -USBStorage -AdminShares -Telemetry
```

### مالي خدمتون
```powershell
# اعليٰ سيڪيورٽي ترتيب
Set-Ghost -RDP -SMBv1 -AutoRun -USBStorage -Macros -PSRemoting -AdminShares
```

### ڪلائوڊ-پهرين تنظيم
```powershell
# Intune-منظم ٿيل تعیناتي
Connect-IntuneGhost -Interactive
Set-Ghost -SMBv1 -RDP -AutoRun -Macros -Intune
```

## 🔍 ڪم جا تفصيل

### بنيادي سخت ڪرڻ وارا ڪم

#### نيٽ ورڪ خدمتون
- **RDP**: ريموٽ ڊيسڪ ٽاپ رسائي کي بلاڪ ڪري ٿو يا پورٽ کي بي ترتيب ڪري ٿو
- **SMBv1**: ورثي فائل شيئرنگ پروٽوڪول کي غير فعال ڪري ٿو
- **ICMP**: جاسوسي لاءِ پنگ جوابن کي روڪي ٿو
- **LLMNR/NetBIOS**: ورثي نالو حل ڪرڻ واري پروٽوڪول کي بلاڪ ڪري ٿو

#### ايپليڪيشن سيڪيورٽي
- **Macros**: Office ايپليڪيشنز ۾ ميڪرو عمل کي غير فعال ڪري ٿو
- **AutoRun**: هٽائڻ لائق ميڊيا مان خودڪار عمل کي روڪي ٿو

#### ريموٽ انتظام
- **PSRemoting**: PowerShell ريموٽ سيشن کي غير فعال ڪري ٿو
- **WinRM**: Windows ريموٽ مئنيجمينٽ کي روڪي ٿو
- **Remote Assistance**: ريموٽ اسسٽنس ڪنيڪشن کي بلاڪ ڪري ٿو

#### رسائي ڪنٽرول
- **Admin Shares**: C$، ADMIN$ شيئرز کي غير فعال ڪري ٿو
- **Guest Account**: مهمان اڪائونٽ رسائي کي غير فعال ڪري ٿو
- **USB Storage**: USB ڊوائيس استعمال کي محدود ڪري ٿو

### Azure انضمام
```powershell
# Azure ٽينينٽ سان ڳنڍيو
Connect-AzureGhost -Interactive

# سيڪيورٽي ڊفالٽس فعال ڪريو
Set-AzureSecurityDefaults -Enable

# مشروط رسائي ترتيب ڏيو
Set-AzureConditionalAccess -BlockLegacyAuth -RequireMFA

# مراعات يافته صارفين جو آڊٽ ڪريو
Set-AzurePrivilegedUsers -AuditOnly
```

### Intune انضمام (v2 ۾ نئون)
```powershell
# Intune سان ڳنڍيو
Connect-IntuneGhost -Interactive

# Intune پاليسين ذريعي تعینات ڪريو
Set-IntuneGhost -Settings @{
    RDP = $true
    SMBv1 = $true
    USBStorage = $true
    Macros = $true
}
```

## ⚠️ اهم غور

### ٽيسٽنگ گهرجون
- **ليبارٽري ماحول**: پهرين سڀني سيٽنگز کي الڳ ٿيل ماحول ۾ ٽيسٽ ڪريو
- **مرحليوار تعیناتي**: مسئلن جي نشاندهي ڪرڻ لاءِ آهستي آهستي رول آئوٽ ڪريو
- **رول بيڪ پلان**: يقيني بڻايو ته توهان ضرورت پوڻ تي تبديلين کي واپس ڪري سگهو ٿا
- **دستاويزيشن**: رڪارڊ ڪريو ته ڪهڙيون سيٽنگز توهان جي ماحول لاءِ ڪم ڪن ٿيون

### امڪاني اثر
- **صارف جي پيداوار**: ڪجهه سيٽنگون روزمره جي ڪم جي وهڪري تي اثر انداز ٿي سگھن ٿيون
- **ورثي ايپليڪيشنز**: پراڻن سسٽمن کي مخصوص پروٽوڪول جي ضرورت ٿي سگھي ٿي
- **ريموٽ رسائي**: جائز ريموٽ انتظاميه تي اثر تي غور ڪريو
- **ڪاروباري عمل**: تصديق ڪريو ته سيٽنگون اهم ڪمن کي نه ٽوڙين

### سيڪيورٽي حدون
- **ڊيفينس ان ڊيپٿ**: Ghost سيڪيورٽي جي هڪ پرت آهي، مڪمل حل نه
- **جاري انتظام**: سيڪيورٽي کي مسلسل نگراني ۽ تازه ڪاري جي ضرورت آهي
- **صارف ٽريننگ**: ٽيڪنيڪل ڪنٽرول کي سيڪيورٽي آگاهي سان گڏ ڪرڻ گهرجي
- **خطري جي ارتقا**: نوان حملا طريقا موجوده تحفظن کي نظرانداز ڪري سگھن ٿا

## 🎯 حملي جي منظرنامي جا مثال

جيتوڻيڪ Ghost عام حملي جي ویکٹرز کي نشانو بنائي ٿو، مخصوص روڪٿام مناسب عملدرآمد ۽ ٽيسٽنگ تي منحصر آهي:

### WannaCry-طرز حملا
- **گھٽتائي**: `Set-Ghost -SMBv1` ڪمزور پروٽوڪول کي غير فعال ڪري ٿو
- **غور**: يقيني بڻايو ته ڪو به ورثي سسٽم SMBv1 جي ضرورت نٿو رکي

### RDP-ٻڌل Ransomware
- **گھٽتائي**: `Set-Ghost -RDP` ريموٽ ڊيسڪ ٽاپ رسائي کي بلاڪ ڪري ٿو
- **غور**: متبادل ريموٽ رسائي طريقن جي ضرورت ٿي سگھي ٿي

### دستاويز-ٻڌل Malware
- **گھٽتائي**: `Set-Ghost -Macros` ميڪرو عمل کي غير فعال ڪري ٿو
- **غور**: جائز ميڪرو-فعال دستاويزن تي اثر انداز ٿي سگهي ٿو

### USB-پهچايل خطرا
- **گھٽتائي**: `Set-Ghost -USBStorage -AutoRun` USB ڪارڪردگي کي محدود ڪري ٿو
- **غور**: جائز USB ڊوائيس استعمال تي اثر انداز ٿي سگهي ٿو

## 🏢 انٽرپرائز خاصيتون

### گروپ پاليسي سپورٽ
```powershell
# گروپ پاليسي رجسٽري ذريعي سيٽنگون لاڳو ڪريو
Set-Ghost -SMBv1 -RDP -AutoRun -GroupPolicy

# GP تازه ڪاري کان پوءِ سيٽنگون ڊومين-وسيع لاڳو ٿين ٿيون
gpupdate /force
```

### Microsoft Intune انضمام
```powershell
# Ghost سيٽنگن لاءِ Intune پاليسيون ٺاهيو
Set-IntuneGhost -Settings $GhostSettings -Interactive

# منظم ٿيل ڊوائيسز تي پاليسيون خودڪار طريقي سان تعینات ٿين ٿيون
```

### تعميل رپورٽنگ
```powershell
# سيڪيورٽي تشخيص رپورٽ ٺاهيو
Get-Ghost | Export-Csv -Path "SecurityAudit-$(Get-Date -Format 'yyyy-MM-dd').csv"

# Azure سيڪيورٽي پوزيشن رپورٽ
Get-AzureGhost | Out-File "AzureSecurityReport.txt"
```

## 📚 بهترين طريقا

### اڳ-تعیناتي
1. **موجوده حالت دستاويز ڪريو**: تبديلين کان اڳ `Get-Ghost` هلايو
2. **مڪمل طور تي ٽيسٽ ڪريو**: غير پيداواري ماحول ۾ تصديق ڪريو
3. **رول بيڪ پلان ٺاهيو**: هر سيٽنگ کي ڪيئن واپس ڪجي ڄاڻو
4. **اسٽيڪ هولڊر جائزو**: يقيني بڻايو ته ڪاروباري يونٽ تبديلين جي منظوري ڏين ٿا

### تعیناتي دوران
1. **مرحليوار طريقو**: پهرين پائلٽ گروپن ۾ تعینات ڪريو
2. **اثر جي نگراني ڪريو**: صارف جي شڪايتن يا سسٽم مسئلن کي ڏسو
3. **مسئلن کي دستاويز ڪريو**: مستقبل جي حوالي لاءِ ڪنهن به مسئلي کي رڪارڊ ڪريو
4. **تبديلين جي رابطي ڪريو**: صارفين کي سيڪيورٽي سڌارن بابت ڄاڻيو

### تعیناتي کان پوءِ
1. **باقاعده تشخيص**: سيٽنگن جي تصديق ڪرڻ لاءِ وقتي طور تي `Get-Ghost` هلايو
2. **دستاويز کي اپڊيٽ ڪريو**: سيڪيورٽي ترتيبن کي موجوده رکو
3. **اثرائيت جو جائزو وٺو**: سيڪيورٽي واقعن جي نگراني ڪريو
4. **مسلسل بهتري**: خطري جي منظر جي بنياد تي سيٽنگون ترتيب ڏيو

## 🔧 مسئلا حل ڪرڻ

### عام مسئلا
- **اجازت جون غلطيون**: بلند PowerShell سيشن کي يقيني بڻايو
- **سروس انحصار**: ڪجهه خدمتن ۾ انحصار ٿي سگهي ٿو
- **ايپليڪيشن مطابقت**: ڪاروباري ايپليڪيشنز سان ٽيسٽ ڪريو
- **نيٽ ورڪ ڪنيڪٽيوٽي**: تصديق ڪريو ته ريموٽ رسائي اڃا تائين ڪم ڪري رهي آهي

### بحالي اختيار
```powershell
# ضرورت پوڻ تي مخصوص خدمتن کي ٻيهر فعال ڪريو
Set-RDP -Enable
Set-SMBv1 -Enable
Set-AutoRun -Enable
Set-Macros -Enable
```

## 👨‍💻 ليکڪ بابت

**Jim Tyler** - PowerShell لاءِ Microsoft MVP
- **YouTube**: [@PowerShellEngineer](https://youtube.com/@PowerShellEngineer) (10,000+ سبسڪرائبرز)
- **نيوز ليٽر**: [PowerShell.News](https://powershell.news) - هفتيوار سيڪيورٽي انٽيليجنس
- **ليکڪ**: "PowerShell for Systems Engineers"
- **تجربو**: PowerShell آٽوميشن ۽ Windows سيڪيورٽي جا ڏهاڪا

## 📄 لائسنس ۽ ڊسڪليمر

### MIT لائسنس
Ghost مفت استعمال، ترميم، ۽ ورڇ لاءِ MIT لائسنس تحت فراهم ڪيو ويو آهي.

### سيڪيورٽي ڊسڪليمر
- **ڪا به ضمانت ناهي**: Ghost "جيئن آهي" ڪنهن به قسم جي ضمانت کان سواءِ فراهم ڪيو ويو آهي
- **ٽيسٽنگ ضروري**: هميشه پهرين غير پيداواري ماحول ۾ ٽيسٽ ڪريو
- **پيشه ورانه هدايت**: پيداوار جي تعیناتي لاءِ سيڪيورٽي ماهرن سان صلاح ڪريو
- **آپريشنل اثر**: ليکڪ ڪنهن به آپريشنل رڪاوٽ لاءِ ذميوار نه آهن
- **جامع سيڪيورٽي**: Ghost مڪمل سيڪيورٽي حڪمت عملي جو هڪ حصو آهي

### سپورٽ
- **GitHub مسئلا**: [بگ رپورٽ ڪريو يا خاصيتن جي درخواست ڪريو](https://github.com/jimrtyler/Ghost/issues)
- **دستاويزيشن**: تفصيلي مدد لاءِ `Get-Help <function> -Full` استعمال ڪريو
- **ڪميونٽي**: PowerShell ۽ سيڪيورٽي ڪميونٽي فورم

---

**🔒 Ghost سان پنهنجي سيڪيورٽي پوزيشن کي مضبوط ڪريو - پر هميشه پهرين ٽيسٽ ڪريو.**

```powershell
# مفروضن سان نه، تشخيص سان شروع ڪريو
Get-Ghost
```

**⭐ جيڪڏهن Ghost توهان جي سيڪيورٽي پوزيشن کي بهتر بڻائڻ ۾ مدد ڪري ٿو ته هن repository کي اسٽار ڪريو!**